DROP TABLE IF EXISTS  "USUARIO_DISCIPLINA";
DROP TABLE IF EXISTS  "TIPO_USUARIO" CASCADE;
DROP TABLE IF EXISTS  "DISCIPLINA" CASCADE;
DROP TABLE IF EXISTS  "USUARIO";


-- CRIAR TABELA
CREATE TABLE IF NOT EXISTS "TIPO_USUARIO" (
"ID_TIPO_USUARIO" SERIAL PRIMARY KEY,
"NM_TIPO_USUARIO" VARCHAR(25)
);

-- Table: public."USUARIO"

-- DROP TABLE public."USUARIO";

CREATE TABLE IF NOT EXISTS "USUARIO"
(
    "ID_USUARIO" SERIAL NOT NULL primary key, 
    "NM_USUARIO" character(50),
    "NU_MATRICULA" integer,
    "ID_TIPO_USUARIO" integer,
    CONSTRAINT "ID_TIPO_USUARIO_FK" FOREIGN KEY ("ID_TIPO_USUARIO") REFERENCES "TIPO_USUARIO"
)
WITH (
    OIDS = FALSE
)
TABLESPACE pg_default;

ALTER TABLE public."USUARIO"
    OWNER to postgres;

CREATE TABLE IF NOT EXISTS "DISCIPLINA"
(
"ID_DISCIPLINA" SERIAL NOT NULL PRIMARY KEY,
"NM_DISCIPLINA" VARCHAR(50)
);

CREATE TABLE IF NOT EXISTS "USUARIO_DISCIPLINA"
(
"ID_USUARIO" INTEGER,
"ID_DISCIPLINA" INTEGER, 
CONSTRAINT "ID_USUARIO_FK" FOREIGN KEY("ID_USUARIO") REFERENCES "USUARIO",
CONSTRAINT "ID_DISCIPLINA_FK" FOREIGN KEY ("ID_DISCIPLINA") REFERENCES "DISCIPLINA"
);


INSERT INTO "TIPO_USUARIO"  ("NM_TIPO_USUARIO") VALUES ('Professor');
INSERT INTO "TIPO_USUARIO"  ("NM_TIPO_USUARIO") VALUES ('Aluno');


-- SELECIONAR DADOS DA TABELA
SELECT * FROM "TIPO_USUARIO";
SELECT * FROM "USUARIO_DISCIPLINA";
SELECT * FROM "USUARIO";
SELECT * FROM "DISCIPLINA";




